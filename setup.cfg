[coverage:run]
source = myjobspyai
branch = true
parallel = true
concurrency =
    multiprocessing
    thread
data_file = .coverage
relative_files = true
omit =
    */tests/*
    */__pycache__/*
    */_vendor/*
    */setup.py
    *__init__.py

[coverage:report]
show_missing = true
skip_covered = true
skip_empty = true
precision = 2
exclude_also =
    def __repr__
    raise NotImplementedError
    raise ImportError
    if __name__ == .__main__.:
    pass
    raise ImportError

[coverage:html]
directory = htmlcov
title = MyJobSpyAI Test Coverage

[tool:pytest]
testpaths =
    myjobspyai/tests
    tests  # For backward compatibility
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts =
    -v
    --cov=myjobspyai
    --cov-report=term-missing
    --cov-report=html
    --cov-report=xml
    --junitxml=junit/test-results.xml
    --cov-fail-under=80
    -p no:warnings
    -p no:logging
    -p no:cacheprovider

[tool:isort]
profile = black
line_length = 88
multi_line_output = 3
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
ensure_newline_before_comments = true

[mypy]
python_version = "3.8"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
disallow_untyped_decorators = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true

[flake8]
max-line-length = 88
extend-ignore = E203, W503
exclude = .git,__pycache__,.tox,.venv,venv,build,dist
per-file-ignores =
    # Allow star imports in __init__.py
    __init__.py: F403,F401
    # Allow non-abstract empty methods
    */**/base.py: B027
asyncio_mode = auto
